#!/bin/bash

# ============================================
# Filename:     .bashrc_functions
# Description:  Custom .bashrc_functions file
# Created on:   2026-01-08
# Purpose:      sourcing other functions
# Functions list: histdel, dfc, du., topfiles,
# ============================================

BASHRC_HOME="${HOME}/.BGCbash"

## ===== Functions Source List =====
## Source Function which
if [ -f ${BASHRC_HOME}/.function_which ]; then
  source ${BASHRC_HOME}/.function_which
fi

## Source Function cpy
if [ -f ${BASHRC_HOME}/.function_cpy ]; then
  source ${BASHRC_HOME}/.function_cpy
fi

## Source Function lcd
if [ -f ${BASHRC_HOME}/.function_lcd ]; then
  source ${BASHRC_HOME}/.function_lcd
fi

## Source Function dfc
if [ -f ${BASHRC_HOME}/.function_dfc ]; then
  source ${BASHRC_HOME}/.function_dfc
fi

## Source Function topfiles
if [ -f ${BASHRC_HOME}/.function_topfiles ]; then
  source ${BASHRC_HOME}/.function_topfiles
fi

## Source Function lsc
if [ -f ${BASHRC_HOME}/.function_lsc ]; then
  source ${BASHRC_HOME}/.function_lsc
fi

## Source Function du_better - du.
if [ -f ${BASHRC_HOME}/.function_du_better ]; then
  source ${BASHRC_HOME}/.function_du_better
fi




#####   ADDITIONAL FUNCTIONS   #####

##### ── Helper: delete previous command from history ────────────────────
##  [History clean up last line delete] #
##  [Function histdel] #

histdel() {
  if [ -f "$HISTFILE" ]; then
    # use sed to delete last 2 lines in place
    sed -i -e :a -e '$d;N;2,2ba' -e 'P;D' "$HISTFILE"
    echo "Last 2 lines removed from $HISTFILE."

    #reload history into current
    history -c
    history -r
    # show last 5 lines
    history 5
  else
    echo "error: hist file not found."
  fi
}

